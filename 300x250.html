<!DOCTYPE html>
<html>
<head lang=en>
    <meta charset="UTF-8">
    <title>AD Template</title>
    <link href="{{asset_base_url}}stylesheets/ken.burns-styles.css" rel=stylesheet>
    <style>
        #wrapper {
            width: 300px;
            height: 250px;
            {% if background_color %}
              background-color:{{background_color.rgb}};
            {% endif %}
            {% if foreground_color %}    
              color:{{foreground_color.rgb}};
            {% endif %}
        }
        .carousel {
            top: 70px;
            width: 300px;
            height: 180px;
        }
        .adLogo {
            float: left;
            height: 70px;
        }
        .logoBg {
            display: table-cell;
            text-align: center;
            vertical-align: middle;
            width: 300px;
            height: 70px;
            background: {{ logo.background_color }} url({{ logo.rel_path }}) 50% 50% no-repeat;
        }
        .headline {
            display: inline-block;
            text-shadow: rgba(0,0,0,0.8) 1px 1px 3px, black 1px 1px 1px, rgba(52,52,52,0.5) 0 0 3px;
            color: white;
            margin: 5px;
        }

        .action {
            position: absolute;
            z-index: 10000;
            text-align: center;
            bottom: 10px;
            right: 10px;
            margin: 0;
            border-radius: 6px;
            font-weight: normal;
            font-size: 16px;
            font-family: Georgia, serif;
            line-height: 20px;
            border-top: 1px solid #fafafa;
            padding: 9.5px 19px;
            color: {{ call_to_action.foreground_color.rgb }};
            text-transform: capitalize;
            text-decoration: none;


            background: {{ call_to_action.background_color.rgb }};
            background: -webkit-gradient(linear, left top, left bottom, from({{ call_to_action.background_color.rgb }}), to(#cfcfcf));
            background: -webkit-linear-gradient(top, {{ call_to_action.background_color.rgb }}, #cfcfcf);
            background: -moz-linear-gradient(top, {{ call_to_action.background_color.rgb }}, #cfcfcf);
            background: -ms-linear-gradient(top, {{ call_to_action.background_color.rgb }}, #cfcfcf);
            background: -o-linear-gradient(top, {{ call_to_action.background_color.rgb }}, #cfcfcf);
            -webkit-border-radius: 9px;
            -moz-border-radius: 9px;

            -webkit-box-shadow: rgba(0,0,0,1) 0 1px 0;
            -moz-box-shadow: rgba(0,0,0,1) 0 1px 0;
            box-shadow: rgba(0,0,0,1) 0 1px 0;
            text-shadow: rgba(0,0,0,.4) 0 1px 0;
            vertical-align: middle;


        }

        .action:hover {
            border-top-color: #707070;
            background: #707070;
            color: #ccc;
        }

        .action:active {
            border-top-color: #5e5e5e;
            background: #5e5e5e;
        }

    </style>
</head>
<body>
    <div id=wrapper>
        <div class=carousel></div>
        <div class=loader></div>
        <div class=fixedContent>
            <a class=adLogo href=# target=_blank>
                <div class=logoBg></div>
            </a>
            <div class=headline>{{ headline.text }}</div>
        </div>
        <a class=action href="{{ call_to_action.destination_url }}" target=_blank>{{ call_to_action.text }}</a>
    </div>

    <script src="{{ asset_base_url }}javascripts/ken.burns-creator.js"></script>
    <script>

        var templateData = {
            slides: [
                {% for im in images %}
                    {
                        imageSrc: "{{ im.rel_path }}",
                        animation: {
                            startX: {{ im.start_x }},
                            startY: {{ im.start_y }},
                            endX: {{ im.end_x }},
                            endY: {{ im.end_y }},
                            startScale: {{ im.initial_scale }},
                            endScale: {{ im.final_scale }},
                            duration: {{ im.showtime }},
                        }
                    },
                {% endfor %}
            ],
            fadeSpeed: 1200,
            pauseBetweenAnimations: 1500,
            ease3d: 'cubic-bezier(0.445, 0.050, 0.550, 0.950)'
        };

        utils.domReady(function() {
            new Banner(document.getElementById('wrapper'), templateData);
        });
    </script>
</body>
</html>